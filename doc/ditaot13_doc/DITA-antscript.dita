<?xml version="1.0" encoding="utf-8"?>
<!-- This file is part of the DITA Open Toolkit project hosted on 
     Sourceforge.net. See the accompanying license.txt file for 
     applicable licenses.-->
     <!--
      | (C) Copyright IBM Corporation 2005 - 2006. All Rights Reserved.
     *-->     
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN"
 "reference.dtd">
<!-- (c) Copyright IBM Corp. 2004, 2005 All Rights Reserved. -->
<reference id="antscript" xml:lang="en-us">
<title>Ant tasks and script</title>
<shortdesc>This topic lists detailed Ant tasks and script.</shortdesc>
<refbody>
<section>       <p>The build process including pre-process can be called by
using Ant script. There are four major Ant script files: </p>       <p><i>conductor.xml</i>, <i>pretargets.xml,</i> <i>ditatargets.xml</i> and <i
>catalog-ant.xml</i>.</p>       <dl><dlentry>
<dt><i>conductor.xml</i></dt>
<dd>The main Ant script file includes the other three ant scripts and provides
main targets for every output style. </dd>
<dd>             <table id="dita.param.general"><title>General Parameter Table</title>
<tgroup cols="3"><colspec align="left" colname="col1" colwidth="1*"/><colspec
align="left" colname="col2" colwidth="4*"/><colspec align="left" colname="col3"
colwidth="1*"/>
<thead>
<row>
<entry>Parameter </entry>
<entry>Description</entry>
<entry>Required</entry>
</row>
</thead>
<tbody>
<row>
<entry>args.input</entry>
<entry><ph id="argsinput">The path and name of the input file. It is in the
same upper or lower case with the filename on file system.</ph>          
            <note id="argsinput-note">Provide this parameter if the <tt>dita.input</tt> parameter
and the <tt>dita.input.dirname</tt> parameter are not provided.</note></entry>
<entry>No</entry>
</row>
<row>
<entry>dita.input</entry>
<entry><ph id="ditainput">The name of the input file .</ph>              
        <note id="ditainput-note">Provide this parameter if the <tt>args.input</tt> parameter
is not provided. Use this parameter together with the <tt>dita.input.dirname</tt> parameter.
The result is the same when using only the <tt>args.input</tt> parameter.
It is an alternative way to specify the path and name of the input file.</note></entry>
<entry>No</entry>
</row>
<row>
<entry>dita.input.dirname</entry>
<entry><ph id="ditainputdirname">The input directory that contains the input
file.</ph>                    <note id="ditainputdirname-note">Provide this
parameter if the <tt>args.input</tt> parameter is not provided. Use this parameter
together with the <tt>dita.input</tt> parameter. The result is the same when
using only the <tt>args.input</tt> parameter. It is an alternative way to
specify the path and name of the input file.</note></entry>
<entry>No</entry>
</row>
<row>
<entry>dita.temp.dir</entry>
<entry><ph id="tempdir">The directory of the temporary file. The default is
"temp".</ph>               </entry>
<entry>No</entry>
</row>
<row>
<entry>output.dir</entry>
<entry><ph id="outputdir">The path of the output directory.</ph>         
           </entry>
<entry>Yes</entry>
</row>
<row>
<entry>dita.extname</entry>
<entry><ph id="ditaextname" rev="r4">The file extension name to be used in
the temp directory.</ph>                     </entry>
<entry>No</entry>
</row>
<row>
<entry>args.xsl</entry>
<entry><ph id="argsxsl">The xsl file to replace the default xsl file. It replaces
dita2docbook.xsl in docbook transformation, dita2fo-shell.xsl in pdf transformation,
dita2xhtml.xsl in xhtml/eclipsehelp transformation, dita2rtfImpl.xsl in word
transformation, and dita2html.xsl in javahelp/htmlhelp transformation.</ph> 
               </entry>
<entry>No</entry>
</row>
<row>
<entry>dita.input.valfile</entry>
<entry><ph id="inputvalfile" rev="r3">The absolute file path and the name
of the file that contains the <i>filter/flagging/revision</i> information.</ph> 
                   </entry>
<entry>No</entry>
</row>
<row>
<entry>args.draft</entry>
<entry><ph id="argsdraft">The default &quot;hide draft &amp; cleanup content&quot;
processing parameter (<q>no</q>= hide them). Only <q>no</q> and <q>yes</q> are
valid values; non-<q>yes</q> value is ignored.</ph>                     </entry>
<entry>No</entry>
</row>
<row>
<entry>args.artlbl</entry>
<entry><ph id="argsartlbl" rev="r3">The default &quot;output artwork filenames&quot;
processing parameter. Only <q>no</q>and <q>yes</q>are valid values; non-<q>yes</q> value
is ignored. The default is <q>no</q>.</ph>  </entry>
<entry>No</entry>
</row>
<row>
<entry>clean.temp</entry>
<entry><ph id="cleantemp">The parameter to specify whether to clean the temporary
directory before each build. Only <q>no</q> and <q>yes</q> are valid values.
The default is <q>yes</q>.</ph>  </entry>
<entry>No</entry>
</row>
</tbody>
</tgroup>
</table>           </dd>
<dd>             <table id="dita.param.htmlgeneral"><title>General Parameter
Table for Tasks(dita2xhtml,dita2htmlhelp,dita2javahelp,dita2eclipsehelp)</title>
<tgroup cols="3"><colspec align="left" colname="col1" colwidth="1*"/><colspec
align="left" colname="col2" colwidth="4*"/><colspec align="left" colname="col3"
colwidth="1*"/>
<thead>
<row>
<entry>Parameter </entry>
<entry>Description</entry>
<entry>Required</entry>
</row>
</thead>
<tbody>
<row>
<entry>args.indexshow</entry>
<entry><ph id="indexshow" rev="r3">The parameter to specify whether each index
entry needs to display in the body of the text itself. Only <q>no</q> and <q>yes</q> are
valid values. The default is <q>no</q>.</ph>                     </entry>
<entry>No</entry>
</row>
<row>
<entry>args.copycss</entry>
<entry> <ph id="copycss" rev="r3">The parameter to specify whether to copy
user specified css files to the directory specified by the <tt>args.csspath</tt> parameter.
Only <q>no</q> and <q>yes</q> are valid values. The default is <q>no</q>.</ph> 
                   </entry>
<entry>No</entry>
</row>
<row>
<entry>args.outext</entry>
<entry><ph id="outext">The output file extension name for generated xhtml
files. You can use ".html" or ".htm" as the extension name for the generated
xhtml files. You can also specify other extension name. The default is ".html".</ph> 
                   </entry>
<entry>No</entry>
</row>
<row>
<entry>args.css</entry>
<entry><ph id="argscss">User specified css file. It can be a local file or
remote file in the web.</ph>                       <note id="argscss-note">It
is a filepath relative to URL or local root dir based on the type of the <tt>args.csspath</tt> parameter.</note> 
                   </entry>
<entry>No</entry>
</row>
<row>
<entry>args.csspath</entry>
<entry><ph id="csspath">The path for css reference. It can be a URL start
with 'http://' or 'https://'; it also can be a local absolute directory. The
default is output directory.</ph>                       <note id="csspath-note">The <tt>args.csspath</tt> parameter
should end with '/' if it is a URL or file separator for local path.</note> 
                   </entry>
<entry>No</entry>
</row>
<row>
<entry>args.hdf</entry>
<entry><ph id="argshdf" rev="r4">The absolute file path and the
name of the file that contains XHTML to be placed in the HEAD area.</ph> 
                   </entry>
<entry>No</entry>
</row>
<row>
<entry>args.hdr</entry>
<entry><ph id="argshdr" product="r4">The absolute file path and the name of
the file that contains XHTML to be placed in the BODY running-heading area.</ph> 
                   </entry>
<entry>No</entry>
</row>
<row>
<entry>args.ftr</entry>
<entry><ph id="argsftr" rev="r3">The absolute file path and the name of the
file that contains XHTML to be placed in the BODY running-footing area.</ph> 
                   </entry>
<entry>No</entry>
</row>
</tbody>
</tgroup>
</table></dd>
</dlentry><dlentry>
<dt>targets in <i>conductor.xml</i></dt>
<dd>             <p>The following targets in <i>conductor.xml</i> will call
the complete processing of DITA files which can be loaded by users.</p>  
          <dl><dlentry>
<dt>dita2docbook</dt>
<dd>Transform DITA topic or DITA map into docbook output.</dd>
</dlentry><dlentry>
<dt>dita2eclipsehelp</dt>
<dd>Transform DITA topic or DITA map into Eclipse help plugin based on xhtml. <table>
<title>Parameter Table of dita2eclipsehelp</title>
<tgroup cols="3"><colspec align="center" colname="col1" colwidth="1*"/><colspec
align="center" colname="col2" colwidth="4*"/><colspec align="center" colname="col3"
colwidth="1*"/>
<thead>
<row>
<entry>Parameter </entry>
<entry>Description</entry>
<entry>Required</entry>
</row>
</thead>
<tbody>
<row>
<entry>args.eclipsehelp.toc</entry>
<entry align="left"><ph id="eclipsehelptoc">The root file name of the output
eclipsehelp toc file in eclipsehelp transformation. The default is the name
of the input ditamap file.</ph>                   </entry>
<entry>No</entry>
</row>
</tbody>
</tgroup>
</table></dd>
</dlentry><dlentry>
<dt>dita2eclipsecontent</dt>
<dd>Transform DITA topic or DITA map into Eclipse help plugin for Eclipse
dynamic content provider based on xhtml.                   <table><title>Parameter
Table of dita2eclipsecontent</title>
<tgroup cols="3"><colspec align="center" colname="col1" colwidth="1*"/><colspec
align="center" colname="col2" colwidth="4*"/><colspec align="center" colname="col3"
colwidth="1*"/>
<thead>
<row>
<entry>Parameter </entry>
<entry>Description</entry>
<entry>Required</entry>
</row>
</thead>
<tbody>
<row>
<entry>args.eclipsecontent.toc</entry>
<entry align="left"><ph id="eclipsecontenttoc">The root file name of the output
Eclipse content provider toc file in eclipsecontent transformation. The default
is the name of the input ditamap file.</ph>                   </entry>
<entry>No</entry>
</row>
</tbody>
</tgroup>
</table></dd>
</dlentry><dlentry>
<dt>dita2htmlhelp</dt>
<dd>Transform DITA topic or DITA map into html help output based on html. </dd>
</dlentry><dlentry>
<dt>dita2javahelp</dt>
<dd>Transform DITA topic or DITA map into java help output based on html. <table>
<title>Parameter Table of dita2javahelp</title>
<tgroup cols="3"><colspec align="center" colname="col1" colwidth="1*"/><colspec
align="center" colname="col2" colwidth="4*"/><colspec align="center" colname="col3"
colwidth="1*"/>
<thead>
<row>
<entry>Parameter </entry>
<entry>Description</entry>
<entry>Required</entry>
</row>
</thead>
<tbody>
<row>
<entry>args.javahelp.toc</entry>
<entry align="left"><ph id="javahelptoc">The root file name of the output
javahelp toc file in javahelp transformation. The default is the name of input
ditamap file.</ph>                   </entry>
<entry>No</entry>
</row>
<row>
<entry>args.javahelp.map</entry>
<entry align="left"><ph id="javahelpmap">The root file name of the output
javahelp map file in javahelp transformation. The default is the name of input
ditamap file.</ph>                   </entry>
<entry>No</entry>
</row>
</tbody>
</tgroup>
</table></dd>
</dlentry><dlentry>
<dt>dita2xhtml</dt>
<dd>Transform DITA topic or DITA map into xhtml web output.<table><title>Parameter
Table of dita2xhtml</title>
<tgroup cols="3"><colspec align="center" colname="col1" colwidth="1*"/><colspec
align="center" colname="col2" colwidth="4*"/><colspec align="center" colname="col3"
colwidth="1*"/>
<thead>
<row>
<entry>Parameter                    </entry>
<entry>Description</entry>
<entry>Required</entry>
</row>
</thead>
<tbody>
<row>
<entry>args.xhtml.toc</entry>
<entry align="left"><ph id="xhtmltoc">The root file name of the output xhtml
toc file in xhtml transformation. The default is "index".</ph>           
       </entry>
<entry>No</entry>
</row>
</tbody>
</tgroup>
</table></dd>
</dlentry><dlentry>
<dt>dita2pdf</dt>
<dd>Transform DITA topic or DITA map into pdf.                    <table>
<title>Parameter Table of dita2pdf</title>
<tgroup cols="3"><colspec align="center" colname="col1" colwidth="1*"/><colspec
align="center" colname="col2" colwidth="4*"/><colspec align="center" colname="col3"
colwidth="1*"/>
<thead>
<row>
<entry>Parameter                    </entry>
<entry>Description</entry>
<entry>Required</entry>
</row>
</thead>
<tbody>
<row>
<entry>args.fo.img.ext</entry>
<entry align="left"><ph id="foimgext">The extension name of image file in
pdf transformation. Only ".jpg", ".gif" are valid value. The default is ".jpg".</ph> 
                   <note id="foimgextnote">Only one extension supported in
the same transformation. The image files with other extensions are renamed
to the specified extension.</note></entry>
<entry>No</entry>
</row>
</tbody>
</tgroup>
</table></dd>
</dlentry><dlentry>
<dt>dita2troff</dt>
<dd>Transform DITA map into troff, which is the system menu style in UNIX
system.</dd>
</dlentry><dlentry>
<dt>dita2wordrtf</dt>
<dd>Transform DITA topic or DITA map into Word rtf. The <tt>args.artlbl</tt> parameter
of the general parameters is not supported.</dd>
</dlentry></dl>           </dd>
</dlentry><dlentry>
<dt>             <i>pretargets.xml</i>           </dt>
<dd>The Ant script file which contains all targets for pre-process.</dd>
</dlentry><dlentry>
<dt>             <i>ditatargets.xml</i>           </dt>
<dd>The Ant script file which contains all targets for main transformation.</dd>
</dlentry><dlentry>
<dt>             <i>catalog-ant.xml</i>           </dt>
<dd>The xml catalog information which is used by Ant.</dd>
</dlentry></dl>     </section>
<section>       <title>Sample ant script</title>       <p>These ant scripts
are in <codeph>ant</codeph> directory. They are simple and easy to learn.
From these files, you can learn how          to write your own Ant script
to build your own process.</p>       <p>Here is a sample template for writing
an Ant script that executes transformation to xhtml in <codeph>ant</codeph> directory
        <codeblock>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;project name=&quot;sample_xhtml&quot; default=&quot;all&quot; basedir=&quot;..&quot;&gt; 
  &lt;import file=&quot;${basedir}${file.separator}conductor.xml&quot;/&gt; 
  &lt;property name=&quot;dita.extname&quot; value=&quot;.xml&quot;/&gt; 
  &lt;target name=&quot;all&quot; depends=&quot;sample2xhtml&quot;&gt; &lt;/target&gt; 
  &lt;!-- revise below here --&gt; 
  &lt;target name=&quot;sample2xhtml&quot; depends=&quot;use-init&quot;&gt; 
    &lt;antcall target=&quot;dita2xhtml&quot;&gt; 
      &lt;param name=&quot;args.input&quot; value=&quot;@DITA.INPUT@&quot;/&gt; 
      &lt;param name=&quot;output.dir&quot; value=&quot;@OUTPUT.DIR@&quot;/&gt; 
    &lt;/antcall&gt; 
  &lt;/target&gt; 
&lt;/project&gt;</codeblock>       </p>       <p>After you write the input
file and output directory to overwrite @DITA.INPUT@ and @OUTPUT.DIR@, the
script can execute the transformation from your input to xhtml by this command.
The property of dita.extname is a global variable with which you can set the
file extension name of the topic file. The default dita.extname is <q><i>.xml</i></q>.
You can also set it to <q><i>.dita</i></q> according to OASIS DITA recommendation.
         <codeblock>ant -f ant/template_xhtml.xml</codeblock> All of targets
we use here are defined in <i>conductor.xml</i>. Therefore, you need to import
that file before calling the target.       </p>     </section>
</refbody>
</reference>